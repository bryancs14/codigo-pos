{"version":3,"sources":["context/posContext.js","environments/environment.js","services/pedidoService.js","context/authContext.js","context/posState.js","modules/pos/pages/components/PosHeader.js","modules/pos/pages/components/PosModalInvoice.js","modules/pos/pages/terminal/components/PosBoletaItem.js","modules/pos/pages/terminal/components/PosBoleta.js","services/categoriaService.js","modules/pos/pages/terminal/components/PosCategoria.js","modules/pos/pages/terminal/components/PosCategorias.js","services/mesaService.js","modules/pos/pages/terminal/components/PosMesa.js","modules/pos/pages/terminal/components/PosMesas.js","modules/pos/pages/terminal/components/PosPlato.js","modules/pos/pages/terminal/components/PosPlatos.js","modules/pos/pages/terminal/PosTerminalScreen.js","modules/pos/PosRouter.js","modules/admin/components/AdminHeader.js","modules/admin/pages/pedido/AdminPedidoScreen.js","modules/admin/pages/dashboard/AdminDashboardScreen.js","modules/admin/components/AdminModalEditarMesa.js","modules/admin/components/AdminModalCrearMesa.js","modules/admin/pages/mesa/AdminMesaScreen.js","services/platoService.js","modules/admin/pages/plato/AdminPlatoCrearScreen.js","modules/admin/pages/plato/AdminPlatoScreen.js","modules/admin/AdminRouter.js","services/authService.js","modules/auth/pages/AuthLoginScreen.js","modules/auth/AuthRouter.js","context/authReducer.js","context/authState.js","PrivateRoute.js","modules/guest/pages/GuestHomeScreen.js","modules/guest/GuestRouter.js","App.js","index.js"],"names":["PosContext","createContext","URL_BACKEND","postPedido","objPedido","a","axios","post","JSON","stringify","headers","rpta","getPedidos","get","AuthContext","PosState","props","useState","objMesaGlobal","setObjMesaGlobal","objCategoriaGlobal","setObjCategoriaGlobal","pedidos","setPedidos","usu_id","useContext","pagarContext","callback","fecha","Date","fechaPedido","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","objPedidoActual","find","mesa_id","platos","map","plato","platos_id","plato_id","pedidoplato_cant","plato_cant","objPedidoFinal","pedido_fech","pedido_nro","uuidv4","pedido_est","pedidoplatos","console","log","data","ok","pedidosRestantes","filter","Provider","value","modificarPlatoContext","objPlato","accion","pedidosActuales","indexPlatoPedido","findIndex","objPlatoPedido","splice","length","pedido","push","children","PosHeader","usu_nom","cerrarSesion","className","src","alt","type","placeholder","onClick","PosModalInvoice","mostrar","setMostrar","boletaRef","useRef","Modal","show","onHide","size","Header","closeButton","Title","Body","ref","i","plato_nom","plato_pre","Footer","then","trigger","content","current","PosBoletaItem","objItem","PosBoleta","items","mesa_nro","getCategorias","getPlatosByCategoriaId","categoria_id","PosCategoria","objCategoria","categoria_nom","PosCategorias","categorias","setCategorias","useEffect","getMesas","putMesasById","objMesa","put","postMesa","deleteMesaById","delete","PosMesa","PosMesas","mesas","setMesas","PosPlato","plato_img","toFixed","PosPlatos","setPlatos","Platos","PosTerminalScreen","PosRouter","path","AdminHeader","Navbar","bg","variant","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","to","activeClassName","exact","Form","inline","FormControl","Button","AdminPedidoScreen","cargando","setCargando","columns","label","field","datos","setDatos","filas","posicion","Mesa","usu_nombre","Usuario","usu_ape","acciones","rows","catch","error","AdminDashboardScreen","totalMoney","setTotalMoney","socket","socketIOClient","on","dataJSON","parse","totales","total_caja","emit","disconnect","AdminModalEditarMesa","mostrarModalEditar","setMostrarModalEditar","objMesaEditar","traerMesas","formulario","setFormulario","handleChange","e","target","name","onSubmit","preventDefault","htmlFor","disabled","onChange","mesa_cap","mostrarModalCrear","setMostrarModalCrear","formularioVacio","AdminMesaScreen","setObjMesaEditar","mounted","setMounted","mesasFormateadas","eliminarMesa","Swal","fire","title","text","showCancelButton","icon","isConfirmed","timer","AdminModalCrearMesa","getPlatos","postPlato","postUploadImagenByPlatoId","file","miFormData","FormData","append","AdminPlatoCrearScreen","imagenRef","hangleChange","files","rpta2","accept","platosIncial","AdminPlatoScreen","width","Categorium","bordered","hover","AdminRouter","postLogin","objLogin","postVerificar","token","withRouter","correo","password","iniciarSesionContext","payloadString","split","payloadStringDecript","atob","usu_tipo","history","AuthRouter","authReducer","state","payload","action","localStorage","removeItem","autenticado","initialState","useReducer","dispatch","getItem","iniciarSesionConLocalStorage","setItem","payloadJson","PrivateRoute","tipo","startsWith","GuestHomeScreen","style","minHeight","GuestRouter","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0a7f9acd.chunk.js","sourcesContent":["import {createContext} from 'react';\r\nconst PosContext = createContext();\r\nexport default PosContext;","export const URL_BACKEND = \"https://codigo4-pos.herokuapp.com\";","import axios from 'axios';\r\nimport { URL_BACKEND } from '../environments/environment'\r\n\r\nexport const postPedido =  async (objPedido) => {\r\n    const rpta =  await axios.post(\r\n        `${URL_BACKEND}/pedido`,\r\n        JSON.stringify(objPedido),\r\n        {\r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n            }\r\n        }\r\n    )\r\n    return rpta;\r\n}\r\n\r\nexport const getPedidos =  async () => {\r\n    const rpta =  await axios.get(`${URL_BACKEND}/pedido`);\r\n    return rpta;\r\n}","import { createContext } from 'react'\r\nconst AuthContext = createContext();\r\nexport default AuthContext;","import React, { useContext, useState } from \"react\";\r\nimport PosContext from \"./posContext\";\r\nimport {v4 as uuidv4} from \"uuid\"\r\nimport { postPedido } from \"../services/pedidoService\";\r\nimport AuthContext from \"./authContext\";\r\n\r\nconst PosState = (props) => {\r\n  const [objMesaGlobal, setObjMesaGlobal] = useState(null);\r\n  const [objCategoriaGlobal, setObjCategoriaGlobal] = useState(null);\r\n  const [pedidos, setPedidos] = useState([]);\r\n  const {usu_id} = useContext(AuthContext)\r\n\r\n  const modificarPlatoContext = (objPlato, accion) => {\r\n    //Obtener una copia del estado de pedidos\r\n    let pedidosActuales = [...pedidos]\r\n    //1.verificar si tenemos una mesa global seleccionada para agregar el plato\r\n    //en caso contrario no hacer nada\r\n    if(!objMesaGlobal) return;\r\n    //2. preguntamos si el arreglo de pedidios ya \r\n    //tiene un pedido pendiente en la mesa global seleccionada\r\n    let objPedido = pedidosActuales.find((objPedido) => objMesaGlobal.mesa_id === objPedido.mesa_id)\r\n    if(objPedido) {\r\n      //Ya habia un pedido para la mesa global seleccionada\r\n      //Si hemos encontrado un objpedido, no implica que el plato que queremos \r\n      let indexPlatoPedido = objPedido.platos.findIndex((objPlatoPedido) => objPlatoPedido.plato_id === objPlato.plato_id)\r\n      if(indexPlatoPedido >= 0) {\r\n        //el plato ya existe, se le aumenta 1\r\n        if(accion === \"sumar\") {\r\n          objPedido.platos[indexPlatoPedido].plato_cant++;\r\n        } else if(accion === \"restar\") {\r\n          objPedido.platos[indexPlatoPedido].plato_cant--;\r\n          if(objPedido.platos[indexPlatoPedido].plato_cant === 0){\r\n            objPedido.platos.splice(indexPlatoPedido, 1);\r\n            //como quiera que acabamos de borrar un plato del arreglo, es posible que\r\n            //dicho plato sea el ultimo del pedido, en conclusion, debemos borrar\r\n            //ese objPedido\r\n            if(objPedido.platos.length === 0) {\r\n              pedidosActuales = pedidosActuales.filter((pedido) => pedido.mesa_id !== objMesaGlobal.mesa_id)\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        //es el primer plato\r\n        if(accion === \"sumar\") {\r\n          objPedido.platos.push({\r\n            ...objPlato,\r\n            plato_cant: 1\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      //No habia ningun pendio para la mesa selecionada(es un nuevo pedido)\r\n      if(accion === \"sumar\") {\r\n        pedidosActuales.push({\r\n          usu_id: 0,\r\n          mesa_id: objMesaGlobal.mesa_id,\r\n          pedido_est: \"pendiente\",\r\n          platos: [\r\n            {\r\n              ...objPlato,\r\n              plato_cant: 1\r\n            }\r\n          ]\r\n        })\r\n      }\r\n    }\r\n    setPedidos(pedidosActuales);\r\n  }\r\n\r\n  const pagarContext = async (callback) => {\r\n\r\n    let fecha = new Date();\r\n\r\n    let fechaPedido = fecha.getFullYear() + \"-\" + (fecha.getMonth() + 1) + \"-\" +\r\n      fecha.getDate() + \" \" + fecha.getHours() + \":\" + fecha.getMinutes() + \":\" +\r\n      fecha.getSeconds()\r\n\r\n    let objPedidoActual = pedidos.find(objPedido => objMesaGlobal.mesa_id === objPedido.mesa_id)\r\n\r\n    let platos = objPedidoActual.platos.map((plato) => {\r\n      return {\r\n        platos_id: plato.plato_id,\r\n        pedidoplato_cant: plato.plato_cant\r\n      }\r\n    });\r\n\r\n    let objPedidoFinal = {\r\n      pedido_fech: fechaPedido,\r\n      pedido_nro: uuidv4(),\r\n      pedido_est: \"pagado\",\r\n      usu_id: usu_id,\r\n      mesa_id: objMesaGlobal.mesa_id,\r\n      pedidoplatos: platos\r\n    }\r\n    \r\n    console.log(objPedidoFinal);\r\n\r\n    const rpta = await postPedido(objPedidoFinal)\r\n      if(rpta.data.ok) {\r\n        let pedidosRestantes = pedidos.filter(objPedido => objPedido.mesa_id !== objMesaGlobal.mesa_id);\r\n        setPedidos([...pedidosRestantes]);\r\n        setObjMesaGlobal(null);\r\n        return true;\r\n      }\r\n  }\r\n\r\n  return (\r\n    <PosContext.Provider\r\n      value={{\r\n        objMesaGlobal,\r\n        setObjMesaGlobal,\r\n        objCategoriaGlobal,\r\n        setObjCategoriaGlobal,\r\n        pedidos,\r\n        modificarPlatoContext,\r\n        pagarContext\r\n      }}\r\n    >\r\n      {props.children}\r\n    </PosContext.Provider>\r\n  );\r\n};\r\n\r\nexport default PosState;\r\n","import React, { useContext } from \"react\";\r\nimport AuthContext from \"../../../../context/authContext\";\r\n\r\nconst PosHeader = () => {\r\n\r\n  const {usu_nom, cerrarSesion} = useContext(AuthContext);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\">\r\n        <img src=\"/images/logo.svg\" alt=\"\" />\r\n      </div>\r\n      <div className=\"header__buscador\">\r\n        <img src=\"/images/search.svg\" alt=\"\" />\r\n        <input\r\n          type=\"text\"\r\n          className=\"header__input\"\r\n          placeholder=\"Busca un término\"\r\n        />\r\n      </div>\r\n      <div className=\"header__usuario\">\r\n        <img src=\"https://randomuser.me/api/portraits/men/90.jpg\" alt=\"\" />\r\n        <span>{usu_nom}</span>\r\n        <button className=\"btn btn-danger\" onClick={() => {\r\n          cerrarSesion();\r\n        }}>Cerrar sesión</button>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default PosHeader;\r\n","import React, { useContext, useRef } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport PosContext from \"../../../../context/posContext\";\r\nimport ReactToPrint from 'react-to-print'\r\n\r\nconst PosModalInvoice = ({ mostrar, setMostrar }) => {\r\n  const { pedidos, objMesaGlobal, pagarContext } = useContext(PosContext);\r\n\r\n  let objPedidoActual = pedidos.find(\r\n    (objPedido) => objPedido.mesa_id === objMesaGlobal?.mesa_id\r\n  );\r\n\r\n  const boletaRef = useRef();\r\n\r\n  return (\r\n        objPedidoActual? (\r\n            <Modal\r\n      show={mostrar}\r\n      onHide={() => {\r\n        setMostrar(false);\r\n      }}\r\n      size={\"xl\"}\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Boleta</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"container\" ref={boletaRef}>\r\n          <div className=\"col-md-12\">\r\n            <div className=\"invoice\">\r\n              <div className=\"invoice-company text-inverse f-w-600\">\r\n                Company Name, Inc\r\n              </div>\r\n              <div className=\"invoice-header\">\r\n                <div className=\"invoice-from\">\r\n                  <small>from</small>\r\n                  <address className=\"m-t-5 m-b-5\">\r\n                    <strong className=\"text-inverse\">Twitter, Inc.</strong>\r\n                    <br />\r\n                    Street Address\r\n                    <br />\r\n                    City, Zip Code\r\n                    <br />\r\n                    Phone: (123) 456-7890\r\n                    <br />\r\n                    Fax: (123) 456-7890\r\n                  </address>\r\n                </div>\r\n                <div className=\"invoice-to\">\r\n                  <small>to</small>\r\n                  <address className=\"m-t-5 m-b-5\">\r\n                    <strong className=\"text-inverse\">Company Name</strong>\r\n                    <br />\r\n                    Street Address\r\n                    <br />\r\n                    City, Zip Code\r\n                    <br />\r\n                    Phone: (123) 456-7890\r\n                    <br />\r\n                    Fax: (123) 456-7890\r\n                  </address>\r\n                </div>\r\n                <div className=\"invoice-date\">\r\n                  <small>Invoice / July period</small>\r\n                  <div className=\"date text-inverse m-t-5\">August 3,2012</div>\r\n                  <div className=\"invoice-detail\">\r\n                    #0000123DSS\r\n                    <br />\r\n                    Services Product\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"invoice-content\">\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-invoice\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>#</th>\r\n                        <th>Cant.</th>\r\n                        <th>Descripcion</th>\r\n                        <th>P. Unitario</th>\r\n                        <th>P. Total</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {objPedidoActual.platos.map((objPlato, i) => {\r\n                        return (\r\n                          <tr key={i}>\r\n                            <td>{i + 1}</td>\r\n                            <td>{objPlato.plato_cant}</td>\r\n                            <td>{objPlato.plato_nom}</td>\r\n                            <td>{objPlato.plato_pre}</td>\r\n                            <td>{(+objPlato.plato_pre) * objPlato.plato_cant}</td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n                <div className=\"invoice-price\">\r\n                  <div className=\"invoice-price-left\">\r\n                    <div className=\"invoice-price-row\">\r\n                      <div className=\"sub-price\">\r\n                        <small>SUBTOTAL</small>\r\n                        <span className=\"text-inverse\">$4,500.00</span>\r\n                      </div>\r\n                      <div className=\"sub-price\">\r\n                        <i className=\"fa fa-plus text-muted\"></i>\r\n                      </div>\r\n                      <div className=\"sub-price\">\r\n                        <small>PAYPAL FEE (5.4%)</small>\r\n                        <span className=\"text-inverse\">$108.00</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"invoice-price-right\">\r\n                    <small>TOTAL</small>{\" \"}\r\n                    <span className=\"f-w-600\">$4508.00</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"invoice-note\">\r\n                * Make all cheques payable to [Your Company Name]\r\n                <br />\r\n                * Payment is due within 30 days\r\n                <br />* If you have any questions concerning this invoice,\r\n                contact [Name, Phone Number, Email]\r\n              </div>\r\n\r\n              <div className=\"invoice-footer\">\r\n                <p className=\"text-center m-b-5 f-w-600\">\r\n                  THANK YOU FOR YOUR BUSINESS\r\n                </p>\r\n                <p className=\"text-center\">\r\n                  <span className=\"m-r-10\">\r\n                    <i className=\"fa fa-fw fa-lg fa-globe\"></i>{\" \"}\r\n                    matiasgallipoli.com\r\n                  </span>\r\n                  <span className=\"m-r-10\">\r\n                    <i className=\"fa fa-fw fa-lg fa-phone-volume\"></i>{\" \"}\r\n                    T:016-18192302\r\n                  </span>\r\n                  <span className=\"m-r-10\">\r\n                    <i className=\"fa fa-fw fa-lg fa-envelope\"></i>{\" \"}\r\n                    rtiemps@gmail.com\r\n                  </span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <button className=\"btn btn-success btn-lg\" onClick={() => {\r\n          pagarContext().then((rpta) => {\r\n            if(rpta) {\r\n              setMostrar(false);\r\n            }\r\n          });\r\n        }}>PAGAR</button>\r\n        <ReactToPrint \r\n          trigger={() => <button className=\"btn btn-primary btn-lg\">Imprimir</button>}\r\n          content={() => boletaRef.current}\r\n        />\r\n      </Modal.Footer>\r\n    </Modal>\r\n        ) : null\r\n    \r\n\r\n    \r\n  );\r\n};\r\n\r\nexport default PosModalInvoice;\r\n","import React from \"react\";\r\n\r\nconst PosBoletaItem = ({objItem}) => {\r\n  return (\r\n    <li className=\"comanda__item\">\r\n      <p className=\"comanda__nombre\">\r\n        <span>\r\n          <strong>{objItem.plato_nom}</strong>\r\n        </span>\r\n        <span>Precio: {objItem.plato_pre}</span>\r\n      </p>\r\n      <p className=\"comanda__cantidad\">{objItem.plato_cant}</p>\r\n      <p className=\"comanda__precio\">\r\n        <strong>S/ {objItem.plato_cant * (+objItem.plato_pre)}</strong>\r\n      </p>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default PosBoletaItem;\r\n","import React, { useContext, useState } from \"react\";\r\nimport PosContext from \"../../../../../context/posContext\";\r\nimport PosModalInvoice from \"../../components/PosModalInvoice\";\r\nimport PosBoletaItem from \"./PosBoletaItem\";\r\n\r\nconst PosBoleta = () => {\r\n\r\n  const {pedidos, objMesaGlobal} = useContext(PosContext);\r\n  const [mostrar, setMostrar] = useState(false);\r\n\r\n  let items = [];\r\n\r\n\r\n  //si existe una mesa globval seleccionada, entonces obtner el\r\n  //valor del arreglo de platos de esa mesa\r\n  if(objMesaGlobal) {\r\n    //encontrado el obj que tiene la mesa global seleccionada\r\n    let objPedidoActual = pedidos.find((objPedido) => objPedido.mesa_id === objMesaGlobal.mesa_id);\r\n    if(objPedidoActual) {\r\n      //tomamos sus platos en el arreglo items\r\n      items = objPedidoActual.platos;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"boleta\">\r\n      <h3>\r\n        Pedido Mesa: &nbsp;<span className=\"color-secundario\">\r\n          {objMesaGlobal? objMesaGlobal.mesa_nro : \"Seleccione\"}\r\n        </span>\r\n      </h3>\r\n      <hr />\r\n      <div className=\"comanda\">\r\n        <h4 className=\"comanda__mesa\">{objMesaGlobal? \"Mesa\" + objMesaGlobal.mesa_nro : \"Seleccione mesa\"}</h4>\r\n        <p className=\"comanda__usuario\">Carlos Jimenez</p>\r\n        <hr />\r\n        <ul className=\"comanda__lista\">\r\n          {\r\n            items.map((objItem) => {\r\n              return <PosBoletaItem key={objItem.plato_id} objItem={objItem}/>\r\n            })\r\n          }\r\n        </ul>\r\n        <button className=\"btn btn-danger boton-block\">CANCELAR</button>\r\n        <button className=\"btn btn-success boton-block\" onClick={() => {\r\n          setMostrar(true);\r\n        }}>PAGAR</button>\r\n      </div>\r\n      <PosModalInvoice mostrar={mostrar} setMostrar={setMostrar}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PosBoleta;\r\n","import axios from 'axios'\r\nimport { URL_BACKEND } from '../environments/environment'\r\n\r\nexport const getCategorias = async () => {\r\n    const rpta = await axios.get(`${URL_BACKEND}/categoria`);\r\n    return rpta;\r\n}\r\n\r\nexport const getPlatosByCategoriaId = async (categoria_id) => {\r\n    const rpta = await axios.get(`${URL_BACKEND}/categoria/${categoria_id}/platos`);\r\n    return rpta;\r\n}","import React, { useContext } from \"react\";\r\nimport PosContext from \"../../../../../context/posContext\";\r\n\r\nconst PosCategoria = ({objCategoria}) => {\r\n\r\n  const {objCategoriaGlobal, setObjCategoriaGlobal} = useContext(PosContext);\r\n\r\n  return (\r\n    <li className={(objCategoria.categoria_id === objCategoriaGlobal?.categoria_id) ? \"active\" : \"\"}\r\n      onClick={() => {\r\n      setObjCategoriaGlobal({...objCategoria});\r\n    }}>\r\n      <img src=\"/images/plato_blanco.svg\" alt=\"\" />\r\n      <span>{objCategoria.categoria_nom}</span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default PosCategoria;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { getCategorias } from \"../../../../../services/categoriaService\";\r\nimport PosCategoria from \"./PosCategoria\";\r\n\r\nconst PosCategorias = () => {\r\n\r\n  const [categorias, setCategorias] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getCategorias().then((rpta) => {\r\n      if(rpta.data.ok) {\r\n        setCategorias(rpta.data.content)\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <nav className=\"menu\">\r\n      <ul className=\"menu__lista\">\r\n        {\r\n          categorias.map((objCategoria) => {\r\n            return <PosCategoria key={objCategoria.categoria_id} objCategoria={objCategoria}/>\r\n          })\r\n        }\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default PosCategorias;\r\n","import axios from 'axios'\r\nimport { URL_BACKEND } from '../environments/environment'\r\n\r\nexport const getMesas = async () => {\r\n    const rpta = await axios.get(`${URL_BACKEND}/mesa`);\r\n    return rpta;\r\n}\r\n\r\nexport const putMesasById = async (objMesa) => {\r\n    const rpta = await axios.put(\r\n        `${URL_BACKEND}/mesa/${objMesa.mesa_id}`,\r\n        JSON.stringify(objMesa),\r\n        {\r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n            }\r\n        }\r\n    );\r\n    return rpta;\r\n}\r\n\r\nexport const postMesa = async (objMesa) => {\r\n    const rpta = await axios.post(\r\n        `${URL_BACKEND}/mesa/`,\r\n        JSON.stringify(objMesa),\r\n        {\r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n            }\r\n        }\r\n    );\r\n    return rpta;\r\n}\r\n\r\nexport const deleteMesaById = async (mesa_id) => {\r\n    const rpta = await axios.delete(`${URL_BACKEND}/mesa/${mesa_id}`)\r\n    return rpta;\r\n}","import React, { useContext } from \"react\";\r\nimport PosContext from \"../../../../../context/posContext\";\r\n\r\nconst PosMesa = ({objMesa}) => {\r\n\r\n  const {objMesaGlobal, setObjMesaGlobal} = useContext(PosContext);\r\n\r\n  return (\r\n    <li className={`mesas__mesa ${objMesa.mesa_id === objMesaGlobal?.mesa_id ? \"activo\" : \"\"}`}\r\n    onClick={() => {\r\n    setObjMesaGlobal({...objMesa});\r\n    }}>\r\n      <span className=\"mesas__titulo\">Mesa</span>\r\n      <span className=\"mesas__numero\">{objMesa.mesa_nro}</span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default PosMesa;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { getMesas } from \"../../../../../services/mesaService\";\r\nimport PosMesa from \"./PosMesa\";\r\n\r\nconst PosMesas = () => {\r\n\r\n  const [mesas, setMesas] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getMesas().then((rpta) => {\r\n      if(rpta.data.ok){\r\n        setMesas(rpta.data.content);\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"mesas\">\r\n      <ul className=\"mesas__lista\">\r\n        {\r\n          mesas.map((objMesa) => {\r\n            return <PosMesa key={objMesa.mesa_id} objMesa={objMesa}/>\r\n          })\r\n        }\r\n      </ul>\r\n      <div className=\"mesas__info\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PosMesas;\r\n","import React, { useContext } from \"react\";\r\nimport PosContext from \"../../../../../context/posContext\";\r\n\r\nconst PosPlato = ({objPlato}) => {\r\n\r\n  const {modificarPlatoContext} = useContext(PosContext);\r\n\r\n  return (\r\n    <div className=\"carta__plato\">\r\n      <img\r\n        src={objPlato.plato_img}\r\n        alt=\"\"\r\n      />\r\n      <h4 className=\"carta__titulo\">${objPlato.plato_nom}</h4>\r\n      <span className=\"carta__precio\">${(+objPlato.plato_pre).toFixed(2)}</span>\r\n      <div className=\"carta__botones\">\r\n        <button className=\"boton boton-outline-primary boton-restar\"\r\n          onClick={() => {\r\n            modificarPlatoContext({...objPlato}, \"restar\");\r\n          }}\r\n        >-1</button>\r\n        <button className=\"boton boton-outline-primary boton-sumar\"\r\n          onClick={() => {\r\n            modificarPlatoContext({...objPlato}, \"sumar\")\r\n          }}\r\n        >+1</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PosPlato;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport PosContext from \"../../../../../context/posContext\";\r\nimport { getPlatosByCategoriaId } from \"../../../../../services/categoriaService\";\r\nimport PosPlato from \"./PosPlato\";\r\n\r\nconst PosPlatos = () => {\r\n\r\n  const [platos, setPlatos] = useState([]);\r\n  const {objCategoriaGlobal} = useContext(PosContext);\r\n\r\n  useEffect(() => {\r\n    if(objCategoriaGlobal) {\r\n      getPlatosByCategoriaId(objCategoriaGlobal.categoria_id).then((rpta) => {\r\n        if(rpta.data.ok){\r\n          setPlatos(rpta.data.content.Platos);\r\n        }\r\n      });\r\n    }\r\n  }, [objCategoriaGlobal])\r\n\r\n  return (\r\n    <div className=\"carta\">\r\n      <h3>\r\n        Lista de Platos Categoria: &nbsp;{\" \"}\r\n        <span className=\"color-secundario\">{objCategoriaGlobal?.categoria_nom}</span>\r\n      </h3>\r\n      <div className=\"carta__platos\">\r\n        {\r\n          platos.map((objPlato) => {\r\n            return <PosPlato key={objPlato.plato_id} objPlato={objPlato}/>\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PosPlatos;\r\n","import React from \"react\";\r\nimport PosHeader from \"../components/PosHeader\";\r\nimport PosBoleta from \"./components/PosBoleta\";\r\nimport PosCategorias from \"./components/PosCategorias\";\r\nimport PosMesas from \"./components/PosMesas\";\r\nimport PosPlatos from \"./components/PosPlatos\";\r\n\r\nconst PosTerminalScreen = () => {\r\n  return (\r\n    <>\r\n      <PosHeader />\r\n      <main className=\"pos-container\">\r\n        <PosCategorias />\r\n        <section className=\"tabla\">\r\n          <PosMesas />\r\n          <div className=\"pedido\">\r\n            <PosPlatos />\r\n            <PosBoleta />\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PosTerminalScreen;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport PosState from \"../../context/posState\";\r\nimport PosTerminalScreen from \"./pages/terminal/PosTerminalScreen\";\r\n\r\nconst PosRouter = () => {\r\n  return (\r\n    <PosState>\r\n      <Switch>\r\n        <Route path=\"/pos/terminal\">\r\n            <PosTerminalScreen />\r\n        </Route>\r\n      </Switch>\r\n    </PosState>\r\n  );\r\n};\r\n\r\nexport default PosRouter;\r\n","import React from \"react\";\r\nimport {Navbar, Nav, Form, FormControl, Button} from \"react-bootstrap\"\r\nimport {NavLink} from 'react-router-dom'\r\nconst AdminHeader = () => {\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n      <Navbar.Brand href=\"#home\">React-Bootstrap</Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <NavLink to=\"/admin\" className=\"nav-link\" activeClassName={\"active\"} exact>Dashboard</NavLink>\r\n          <NavLink to=\"/admin/mesa\" className=\"nav-link\" activeClassName={\"active\"} exact>Mesas</NavLink>\r\n          <NavLink to=\"/admin/plato\" className=\"nav-link\" activeClassName={\"active\"} exact>Platos</NavLink>\r\n          <NavLink to=\"/admin/pedido\" className=\"nav-link\" activeClassName={\"active\"} exact>Pedido</NavLink>\r\n        </Nav>\r\n        <Form inline>\r\n          <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\r\n          <Button variant=\"outline-success\">Search</Button>\r\n        </Form>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default AdminHeader;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { getPedidos } from '../../../../services/pedidoService';\r\nimport {MDBDataTableV5} from 'mdbreact'\r\n\r\nconst AdminPedidoScreen = () => {\r\n\r\n\r\n    const [cargando, setCargando] = useState(true);\r\n    const [datos, setDatos] = useState({\r\n        columns: [\r\n            { label: \"#\", field: \"posicion\" },\r\n            { label: \"Id\", field: \"pedido_id\" },\r\n            { label: \"Fecha\", field: \"pedido_fech\" },\r\n            { label: \"Codigo\", field: \"pedido_nro\" },\r\n            { label: \"Estado\", field: \"pedido_est\" },\r\n            { label: \"Nro Mesa\", field: \"mesa_nro\" },\r\n            { label: \"Usuario\", field: \"usu_nombre\" },\r\n            { label: \"Acciones\", field: \"acciones\" },\r\n        ]\r\n    })\r\n\r\n    useEffect(() => {\r\n        getPedidos().then(rpta => {\r\n            if(rpta.data.ok) {\r\n                let filas = rpta.data.pedidos.map((objPedido, i) => {\r\n                    return {\r\n                        ...objPedido,\r\n                        posicion: i+1,\r\n                        mesa_nro: objPedido.Mesa?.mesa_nro || \"s/n\",\r\n                        usu_nombre: (objPedido.Usuario?.usu_nom || \"\") + \" \" + (objPedido.Usuario?.usu_ape || \"\"),\r\n                        acciones: <button>ver detalles</button>\r\n                    }\r\n                })\r\n                console.log(filas);\r\n                setDatos({\r\n                    ...datos,\r\n                    rows: filas\r\n                })\r\n                setCargando(false);\r\n            } else {\r\n                setCargando(false);\r\n            }\r\n        }).catch(error => {\r\n            setCargando(false);\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col\">\r\n                    <h1 className=\"display-4\">Lista de Pedidos</h1>\r\n                </div>\r\n            </div>\r\n            <hr/>\r\n            {\r\n                !cargando ? \r\n                    <MDBDataTableV5 data={datos}/>\r\n                    : <div className=\"alert alert-info\">\r\n                        <h4>CARGANDO...</h4>\r\n                    </div>\r\n            }\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default AdminPedidoScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport socketIOClient from 'socket.io-client'\r\nimport { URL_BACKEND } from '../../../../environments/environment'\r\n\r\nconst AdminDashboardScreen = () => {\r\n\r\n    const [mesas, setMesas] = useState(0)\r\n    const [pedidos, setPedidos] = useState(0)\r\n    const [categorias, setCategorias] = useState(0)\r\n    const [totalMoney, setTotalMoney] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const socket = socketIOClient(URL_BACKEND);\r\n        socket.on(\"reporte-dashboard\", (data) => {\r\n            const dataJSON = JSON.parse(data);\r\n            setMesas(dataJSON.totales.mesas);\r\n            setPedidos(dataJSON.totales.pedidos);\r\n            setCategorias(dataJSON.totales.categorias);\r\n            setTotalMoney(dataJSON.total_caja.totalMoney);\r\n        });\r\n        socket.emit(\"peticion-reporte-dashboard\");\r\n\r\n        // cleanup del useEffect\r\n        // La funcion de cleanup se ejecuta cuando un componente es desmontado\r\n        // se debe usar para cencelar peticiones asincronas, liber memoria, cancelacion\r\n        // de sockets, etc\r\n        return () => {\r\n            socket.disconnect();\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            <div className=\"row mt-4\">\r\n                <div className=\"col\">\r\n                    <h1 className=\"display-3 text-center\">Dashboard Administrativo</h1>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mt-4\">\r\n                <div className=\"col-md-4\">\r\n                    <div className=\"card shadow\">\r\n                        <div className=\"card-header\">Total de mesas</div>\r\n                        <div className=\"card-body text-center\"><span className=\"display-4\">{mesas}</span></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                    <div className=\"card shadow\">\r\n                        <div className=\"card-header\">Total de Pedidos</div>\r\n                        <div className=\"card-body text-center\"><span className=\"display-4\">{pedidos}</span></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                    <div className=\"card shadow\">\r\n                        <div className=\"card-header\">Total de categorias</div>\r\n                        <div className=\"card-body text-center\"><span className=\"display-4\">{categorias}</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mt-4\">\r\n                <div className=\"col\">\r\n                    <div className=\"card shadow\">\r\n                        <div className=\"card-header\">Total Ingresos</div>\r\n                        <div className=\"card-body text-center\">\r\n                            <p className=\"display-1\">\r\n                                S/ <span>{totalMoney.toFixed(2)}</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default AdminDashboardScreen\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { putMesasById } from \"../../../services/mesaService\";\r\n\r\nconst AdminModalEditarMesa = ({mostrarModalEditar, setMostrarModalEditar, objMesaEditar, traerMesas}) => {\r\n\r\n    const [formulario, setFormulario] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setFormulario({...objMesaEditar});\r\n    }, [objMesaEditar])\r\n\r\n    const handleChange = (e) => {\r\n        setFormulario({\r\n            ...formulario,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        putMesasById(formulario).then((rpta) => {\r\n            if(rpta.data.ok) {\r\n                setMostrarModalEditar(false);\r\n                traerMesas();\r\n            }\r\n        })\r\n    }\r\n\r\n  return (\r\n    <Modal show={mostrarModalEditar} onHide={() => {setMostrarModalEditar(false)}} size={\"xl\"}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Editar mesa</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {\r\n            formulario? <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"\">Id: </label>\r\n                <input type=\"text\" className=\"form-control\" value={formulario.mesa_id} disabled/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"\">Nro Mesa: </label>\r\n                <input type=\"text\" className=\"form-control\"\r\n                value={formulario.mesa_nro} name=\"mesa_nro\" onChange={handleChange}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"\">Capacidad: </label>\r\n                <input type=\"number\" className=\"form-control\"\r\n                value={formulario.mesa_cap} name=\"mesa_cap\" onChange={handleChange}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <button className=\"btn btn-primary\">Guardar cambios</button>\r\n            </div>\r\n        </form> : null\r\n        }\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AdminModalEditarMesa;\r\n","import React, { useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { postMesa } from \"../../../services/mesaService\";\r\n\r\nconst AdminModalEditarMesa = ({mostrarModalCrear, setMostrarModalCrear, traerMesas}) => {\r\n\r\n    const formularioVacio = {\r\n        mesa_nro: \"\",\r\n        mesa_cap: 0,\r\n    }\r\n\r\n    const [formulario, setFormulario] = useState(formularioVacio);\r\n\r\n    const handleChange = (e) => {\r\n        setFormulario({\r\n            ...formulario,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        postMesa(formulario).then((rpta) => {\r\n            if(rpta.data.ok) {\r\n                setMostrarModalCrear(false);\r\n                setFormulario(formularioVacio);  \r\n                traerMesas();\r\n            }\r\n        })\r\n    }\r\n\r\n  return (\r\n    <Modal show={mostrarModalCrear} onHide={() => {setMostrarModalCrear(false)}} size={\"xl\"}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Crear mesa</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"\">Nro Mesa: </label>\r\n                <input type=\"text\" className=\"form-control\"\r\n                value={formulario.mesa_nro} name=\"mesa_nro\" onChange={handleChange}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"\">Capacidad: </label>\r\n                <input type=\"number\" className=\"form-control\"\r\n                value={formulario.mesa_cap} name=\"mesa_cap\" onChange={handleChange}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <button className=\"btn btn-primary\">Crear mesa</button>\r\n            </div>\r\n        </form>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AdminModalEditarMesa;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { deleteMesaById, getMesas } from \"../../../../services/mesaService\";\r\nimport { MDBDataTableV5 } from \"mdbreact\";\r\nimport AdminModalEditarMesa from \"../../components/AdminModalEditarMesa\";\r\nimport AdminModalCrearMesa from \"../../components/AdminModalCrearMesa\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst AdminMesaScreen = () => {\r\n  const [mesas, setMesas] = useState({\r\n    columns: [\r\n      {\r\n        label: \"#\",\r\n        field: \"posicion\",\r\n      },\r\n      {\r\n        label: \"Id\",\r\n        field: \"mesa_id\",\r\n      },\r\n      {\r\n        label: \"Nro mesa\",\r\n        field: \"mesa_nro\",\r\n      },\r\n      {\r\n        label: \"Capacidad\",\r\n        field: \"mesa_cap\",\r\n      },\r\n      {\r\n        label: \"Acciones\",\r\n        field: \"acciones\",\r\n      },\r\n    ],\r\n    rows: [],\r\n  });\r\n\r\n  const [cargando, setCargando] = useState(true);\r\n\r\n  const [mostrarModalEditar, setMostrarModalEditar] = useState(false);\r\n  const [mostrarModalCrear, setMostrarModalCrear] = useState(false);\r\n  const [objMesaEditar, setObjMesaEditar] = useState(null);\r\n\r\n  const [mounted, setMounted] = useState(true);\r\n\r\n  const traerMesas = () => {\r\n    getMesas().then((rpta) => {\r\n      if (rpta.data.ok) {\r\n        let mesasFormateadas = rpta.data.content.map((objMesa, i) => {\r\n          return {\r\n            ...objMesa,\r\n            mesa_cap: objMesa.mesa_cap + \" personas\",\r\n            posicion: i + 1,\r\n            acciones: (\r\n              <>\r\n                <button\r\n                  className=\"btn btn-warning\"\r\n                  onClick={() => {\r\n                    setObjMesaEditar({ ...objMesa });\r\n                    setMostrarModalEditar(true);\r\n                  }}\r\n                >\r\n                  Editar\r\n                </button>\r\n                <button className=\"btn btn-danger\" onClick={() => {\r\n                  eliminarMesa(objMesa.mesa_id);\r\n                }}>\r\n                  Eliminar\r\n                </button>\r\n              </>\r\n            ),\r\n          };\r\n        });\r\n        if(mounted) {\r\n          setMesas({ ...mesas, rows: mesasFormateadas });\r\n          setCargando(false);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    traerMesas();\r\n\r\n    return () => {\r\n      setMounted(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const eliminarMesa = mesa_id => {\r\n    Swal.fire({\r\n      title: '¿Seguro que deseas eliminar la mesa?',\r\n      text: 'Los cambios seran irreversibles',\r\n      showCancelButton: true,\r\n      icon: 'error'\r\n    }).then((rpta) => {\r\n      if(rpta.isConfirmed){\r\n        deleteMesaById(mesa_id).then(rpta => {\r\n          if(rpta.data.ok){\r\n            Swal.fire({\r\n              text: 'Mesa eliminida correctamente',\r\n              icon: 'success',\r\n              timer: 1500\r\n            })\r\n            traerMesas();\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AdminModalEditarMesa\r\n        mostrarModalEditar={mostrarModalEditar}\r\n        setMostrarModalEditar={setMostrarModalEditar}\r\n        objMesaEditar={objMesaEditar}\r\n        setObjMesaEditar={setObjMesaEditar}\r\n        traerMesas={traerMesas}\r\n      />\r\n      <AdminModalCrearMesa\r\n        mostrarModalCrear={mostrarModalCrear}\r\n        setMostrarModalCrear={setMostrarModalCrear}\r\n        traerMesas={traerMesas}\r\n      />\r\n\r\n      <main className=\"container mt-5\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => {\r\n                setMostrarModalCrear(true);\r\n              }}\r\n            >Crear mesa</button>\r\n            <div className=\"card shadow\">\r\n              <div className=\"card-body\">\r\n                {cargando ? (\r\n                  <div className=\"alert alert-info\">Cargando</div>\r\n                ) : (\r\n                  <MDBDataTableV5 data={mesas} />\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminMesaScreen;\r\n","import axios from \"axios\"\r\nimport { URL_BACKEND } from \"../environments/environment\";\r\n\r\nexport const getPlatos = async () => {\r\n    const rpta = await axios.get(`${URL_BACKEND}/plato`);\r\n    return rpta;\r\n}\r\n\r\nexport const postPlato = async (objPlato) => {\r\n    const rpta = await axios.post(\r\n        `${URL_BACKEND}/plato`,\r\n        JSON.stringify(objPlato),\r\n        {\r\n            headers: {\r\n                \"Content-type\": \"application/json\"\r\n            }\r\n        }\r\n    )\r\n    return rpta;\r\n}\r\n\r\nexport const postUploadImagenByPlatoId = async (file, plato_id) => {\r\n    let miFormData = new FormData();\r\n    miFormData.append(\"imagen\", file);\r\n    miFormData.append(\"plato_id\", plato_id);\r\n\r\n    const rpta = await axios.post(\r\n        `${URL_BACKEND}/plato/imagen/upload`,\r\n        miFormData,\r\n        {\r\n            headers: {\r\n                \"Content-type\": \"multipart/form-data\"\r\n            }\r\n        }\r\n    )\r\n    return rpta;\r\n}","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { getCategorias } from \"../../../../services/categoriaService\";\r\nimport { postPlato, postUploadImagenByPlatoId } from \"../../../../services/platoService\";\r\n\r\nconst AdminPlatoCrearScreen = () => {\r\n\r\n    const [formulario, setFormulario] = useState({\r\n        plato_nom: \"\",\r\n        plato_img: \"\",\r\n        plato_pre: 0,\r\n        categoria_id: 0\r\n    })\r\n\r\n    const imagenRef = useRef();\r\n\r\n    const [categorias, setCategorias] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getCategorias().then((rpta) => {\r\n            if(rpta.data.ok) {\r\n                setCategorias(rpta.data.content);\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const hangleChange = (e) => {\r\n        setFormulario({\r\n            ...formulario,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log(imagenRef.current.files);\r\n        postPlato(formulario).then(rpta => {\r\n            if(rpta.data.ok) {\r\n                postUploadImagenByPlatoId(imagenRef.current.files[0], rpta.data.content.plato_id)\r\n                .then((rpta2) => {\r\n                    console.log(rpta2);\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n  return (\r\n    <main className=\"container mt-5\">\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <div className=\"card shadow\">\r\n            <div className=\"card-header\">\r\n              <h4>Formulario de Creación de un Plato</h4>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"\">Nombre:</label>\r\n                  <input type=\"text\" className=\"form-control\" \r\n                  name=\"plato_nom\" onChange={hangleChange} value={formulario.plato_nom}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"\">Precio:</label>\r\n                  <input type=\"number\" className=\"form-control\"\r\n                  name=\"plato_pre\" onChange={hangleChange} value={formulario.plato_pre}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"\">Categoria</label>\r\n                  <select name=\"\" className=\"form-control\"\r\n                  name=\"categoria_id\" onChange={hangleChange} value={formulario.categoria_id}>\r\n                    <option value=\"0\">Seleccione</option>\r\n                    {\r\n                        categorias.map((objCategoria, i) => {\r\n                            return <option key={i} value={objCategoria.categoria_id}>\r\n                                {objCategoria.categoria_nom}\r\n                            </option>\r\n                        })\r\n                    }\r\n                  </select>\r\n                  <div className=\"form-group\">\r\n                      <label htmlFor=\"\">Imagen</label>\r\n                      <input type=\"file\" accept=\"image/*\"ref={imagenRef}/>\r\n                  </div>\r\n                  <div>\r\n                      <button className=\"btn btn-primary\" type=\"submit\">\r\n                          Crear plato\r\n                      </button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default AdminPlatoCrearScreen;\r\n","import React, { useEffect, useState } from 'react'\r\nimport {MDBDataTableV5} from 'mdbreact'\r\nimport { getPlatos } from '../../../../services/platoService';\r\nimport { Link } from 'react-router-dom'\r\n\r\n// import { withRouter } from 'react-router-dom'\r\n\r\n\r\nconst platosIncial = {\r\n    columns: [\r\n      {\r\n        label: \"#\",\r\n        field: \"posicion\",\r\n      },\r\n      {\r\n        label: \"Id\",\r\n        field: \"plato_id\",\r\n      },\r\n      {\r\n        label: \"Nombre\",\r\n        field: \"plato_nom\",\r\n      },\r\n      {\r\n        label: \"Imagen\",\r\n        field: \"plato_img\",\r\n      },\r\n      {\r\n        label: \"Precio\",\r\n        field: \"plato_pre\",\r\n      },\r\n      {\r\n        label: \"Categoria\",\r\n        field: \"categoria_nom\",\r\n      },\r\n    ],\r\n    rows: [],\r\n  }\r\n\r\n  \r\n  const AdminPlatoScreen = () => {\r\n    \r\n    const [cargando, setCargando] = useState(true);\r\n    const [platos, setPlatos] = useState(platosIncial);\r\n    \r\n    useEffect(() => {\r\n      let mounted = true;\r\n        getPlatos().then((rpta) => {\r\n            if(rpta.data.ok) {\r\n              if(mounted) {\r\n                setPlatos({\r\n                  ...platos,\r\n                  rows: rpta.data.content.map((objPlato, i) => {\r\n                      return {\r\n                          posicion: i+1,\r\n                          plato_id: objPlato.plato_id,\r\n                          plato_nom: objPlato.plato_nom,\r\n                          plato_img: <img src={objPlato.plato_img} width=\"100\"/>,\r\n                          plato_pre: `S/ ${(+objPlato.plato_pre).toFixed(2)}`,\r\n                          categoria_nom: objPlato.Categorium?.categoria_nom || \"Sin categoria\"\r\n                      }\r\n                  })\r\n                });\r\n                setCargando(false);\r\n              }\r\n            }\r\n        })\r\n        return () => {\r\n          mounted = false\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <main className=\"container mt-5\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <Link\r\n              className=\"btn btn-primary\"\r\n              to=\"/admin/plato/crear\"\r\n            >Crear Plato</Link>\r\n            <div className=\"card shadow\">\r\n              <div className=\"card-body\">\r\n                {cargando ? (\r\n                  <div className=\"alert alert-info\">Cargando</div>\r\n                ) : (\r\n                  <MDBDataTableV5 data={platos} bordered hover/>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    )\r\n}\r\n\r\n// export default withRouter(AdminPlatoScreen)\r\nexport default AdminPlatoScreen\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport AdminHeader from \"./components/AdminHeader\";\r\nimport AdminPedidoScreen from \"./pages/pedido/AdminPedidoScreen\";\r\nimport AdminDashboardScreen from \"./pages/dashboard/AdminDashboardScreen\";\r\nimport AdminMesaScreen from \"./pages/mesa/AdminMesaScreen\";\r\nimport AdminPlatoCrearScreen from \"./pages/plato/AdminPlatoCrearScreen\";\r\nimport AdminPlatoScreen from \"./pages/plato/AdminPlatoScreen\";\r\n\r\nconst AdminRouter = () => {\r\n  return (\r\n    <>\r\n      <AdminHeader />\r\n      <Switch>\r\n        <Route path=\"/admin/mesa\">\r\n          <AdminMesaScreen />\r\n        </Route>\r\n        <Route path=\"/admin/plato/crear\">\r\n          <AdminPlatoCrearScreen />\r\n        </Route>\r\n        <Route path=\"/admin/plato\">\r\n          <AdminPlatoScreen />\r\n        </Route>\r\n        <Route path=\"/admin/pedido\">\r\n          <AdminPedidoScreen />\r\n        </Route>\r\n        <Route path=\"/admin\">\r\n          <AdminDashboardScreen exact/>\r\n        </Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminRouter;\r\n","import { URL_BACKEND } from \"../environments/environment\";\r\nimport axios from \"axios\"\r\n\r\n\r\nexport const postLogin = async (objLogin) => {\r\n    const rpta = await axios.post(`${URL_BACKEND}/login`,\r\n    JSON.stringify(objLogin),\r\n    {\r\n        headers: {\r\n        \"Content-type\": \"application/json\"\r\n    }}\r\n    )\r\n    return rpta;\r\n}\r\n\r\nexport const postVerificar = async (token) => {\r\n    const rpta = await axios.post(\r\n        `${URL_BACKEND}/verificar`,\r\n        null, {\r\n            headers: {\r\n            \"Authorization\": `Bearer ${token}`\r\n        }}\r\n    );\r\n    return rpta;\r\n}","import React, { useContext, useState } from \"react\";\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport { postLogin } from \"../../../services/authService\";\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nconst AuthLoginScreen = (props) => {\r\n\r\n    const [formulario, setFormulario] = useState({\r\n        correo: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const { iniciarSesionContext } = useContext(AuthContext);\r\n\r\n    const handleChange = (e) => {\r\n        setFormulario({\r\n            ...formulario,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n    \r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        postLogin(formulario).then(rpta => {\r\n            if(rpta.data.ok) {\r\n                iniciarSesionContext(rpta.data.token);\r\n                let {token} =rpta.data;\r\n                const payloadString = token.split(\".\")[1];\r\n                const payloadStringDecript = atob(payloadString);\r\n                const payloadJson = JSON.parse(payloadStringDecript);\r\n                if(payloadJson.usu_tipo === \"admin\") {\r\n                  props.history.push(\"/admin\")\r\n                } else {\r\n                  props.history.push(\"/pos/terminal\")\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n  return (\r\n    <main className=\"login\">\r\n      <div className=\"login__form\">\r\n        <h1>Inicio de Sesión</h1>\r\n        <form className=\"formulario\" onSubmit={handleSubmit}>\r\n          <label htmlFor=\"\">Email:</label>\r\n          <input type=\"email\" className=\"formulario__input\" placeholder=\"Email\"\r\n          name=\"correo\"\r\n          onChange={handleChange}\r\n          value={formulario.correo}/>\r\n          <label htmlFor=\"\">Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"formulario__input\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={handleChange}\r\n            value={formulario.password}\r\n          />\r\n          <button className=\"formulario__submit\" type=\"submit\">\r\n            Iniciar Sesión\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default withRouter(AuthLoginScreen);\r\n","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport AuthLoginScreen from './pages/AuthLoginScreen'\r\n\r\nconst AuthRouter = () => {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/auth/login\">\r\n                <AuthLoginScreen />\r\n            </Route>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default AuthRouter\r\n","export const authReducer = (state, payload) => {\r\n    if(payload.action === \"INICIAR_SESION\") {\r\n        return {\r\n            ...payload.data\r\n        }\r\n    }\r\n    if(payload.action === \"CERRAR_SESION\"){\r\n        localStorage.removeItem(\"token\");\r\n        return {\r\n            autenticado: false,\r\n            cargando: false,\r\n            token: null,\r\n            usu_nom: null,\r\n            usu_id: null,\r\n            usu_tipo: null\r\n        }\r\n    }\r\n}","import React, { useEffect, useReducer } from 'react'\r\nimport AuthContext from './authContext'\r\nimport { authReducer } from './authReducer'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { postVerificar } from '../services/authService'\r\n\r\nconst initialState = {\r\n    autenticado: false,\r\n    cargando: true,\r\n    token: null,\r\n    usu_nom: null,\r\n    usu_id: null,\r\n    usu_tipo: null\r\n}\r\n\r\nconst AuthState = (props) => {\r\n\r\n    \r\n    const [state, dispatch] = useReducer(authReducer, initialState)\r\n\r\n    const iniciarSesionConLocalStorage = () => {\r\n        let token = localStorage.getItem(\"token\");\r\n        if(token) {\r\n            postVerificar(token).then(rpta => {\r\n                if(rpta.data.ok) {\r\n                    iniciarSesionContext(token);\r\n                } \r\n            }).catch(error => {\r\n                console.log(error);\r\n                cerrarSesion();\r\n            })\r\n        } else {\r\n            cerrarSesion();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        iniciarSesionConLocalStorage();\r\n    }, [])\r\n\r\n    const iniciarSesionContext = (token) => {\r\n        localStorage.setItem(\"token\", token);\r\n        const payloadString = token.split(\".\")[1];\r\n        const payloadStringDecript = atob(payloadString);\r\n        const payloadJson = JSON.parse(payloadStringDecript);\r\n        dispatch(\r\n            {\r\n                action: \"INICIAR_SESION\",\r\n                data: {\r\n                    autenticado: true,\r\n                    cargando: false,\r\n                    token: token,\r\n                    usu_nom: payloadJson.usu_nom,\r\n                    usu_id: payloadJson.usu_id,\r\n                    usu_tipo: payloadJson.usu_tipo\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    const cerrarSesion = () => {\r\n        dispatch(\r\n            {\r\n                action: \"CERRAR_SESION\",\r\n            }\r\n        )\r\n        //borrar el historial, no se puede ir atras\r\n        //redirecionar al home\r\n        // props.history.replace(\"/auth/login\")\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            iniciarSesionContext,\r\n            ...state,\r\n            cerrarSesion\r\n        }}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default withRouter(AuthState);\r\n","import React, { useContext } from 'react'\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport AuthContext from './context/authContext'\r\n\r\nconst PrivateRoute = (props) => {\r\n\r\n    const {autenticado, cargando, usu_tipo} = useContext(AuthContext);\r\n\r\n    let tipo = \"admin\";\r\n    if(usu_tipo === \"ventas\"){\r\n        tipo=\"pos\"\r\n    }\r\n\r\n    return (\r\n\r\n        cargando ?\r\n            <div>\r\n                Cargando joven...\r\n            </div> :\r\n            autenticado ?\r\n            //solo te dirige a la pagina segun tu tipo\r\n            //String.startsWith(\"aaa\") Sstring comienza con aaa?\r\n            //Si el path contiene el tipo te redirige a la pagina segun su tipo\r\n                (props.path.startsWith(\"/\"+tipo)) ?\r\n                    <Route path={props.path}>\r\n                        {props.children}\r\n                    </Route> \r\n                :<Redirect to={\"/\"}/>\r\n            :<Redirect to={\"/\"}/>\r\n    )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst GuestHomeScreen = () => {\r\n  return (\r\n    <main className=\"container-fluid\">\r\n      <div\r\n        className=\"row bg-dark justify-content-center align-items-center\"\r\n        style={{\r\n          minHeight: \"100vh\",\r\n        }}\r\n      >\r\n        <div className=\"col-md-3\">\r\n          <Link to={\"/admin\"}>\r\n            <div className=\"card p-5 bg-warning text-white\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"display-4\">Admin</h4>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <Link to={\"/pos/terminal\"}>\r\n            <div className=\"card p-5 bg-info text-white\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"display-4\">Terminal POS</h4>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <Link to={\"/auth/login\"}>\r\n            <div className=\"card p-5 bg-danger text-white\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"display-4\">Login</h4>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default GuestHomeScreen;\r\n","import React from 'react'\r\nimport {Switch, Route} from 'react-router-dom'\r\nimport GuestHomeScreen from './pages/GuestHomeScreen'\r\n\r\nconst GuestRouter = () => {\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\">\r\n                <GuestHomeScreen />\r\n            </Route>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default GuestRouter\r\n","import React from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport PosRouter from \"./modules/pos/PosRouter\";\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './styles/invoice.css'\nimport './styles/index.css'\nimport './styles/login.css'\nimport AdminRouter from \"./modules/admin/AdminRouter\";\nimport AuthRouter from \"./modules/auth/AuthRouter\";\nimport AuthState from \"./context/authState\";\nimport PrivateRoute from \"./PrivateRoute\";\nimport GuestRouter from \"./modules/guest/GuestRouter\";\n\nconst App = () => {\n  return (\n    <Router>\n        <AuthState>\n        <Switch>\n          <PrivateRoute path=\"/pos\">\n            <Route>\n              <PosRouter />\n            </Route>\n          </PrivateRoute>\n          <PrivateRoute path=\"/admin\">\n            <Route>\n              <AdminRouter />\n            </Route>\n          </PrivateRoute>\n          <Route path=\"/auth\">\n            <AuthRouter />\n          </Route>\n          <Route path=\"/\" exact>\n            <GuestRouter />\n          </Route>\n        </Switch>\n      </AuthState>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}